<html>
<head>
<title>Deck Breaker Solitare</title>


<link rel="apple-touch-icon" href="palm.ico"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content = "width = device-width; initial-scale=0.5; maximum-scale=0.5; user-scalable=1; ">

<script type="text/javascript" src="onepalm.js"></script>

<link rel="stylesheet" href="style.css">
<style type="text/css">

#HA { position:absolute; left:10px; top:55px;}
#H2 { position:absolute; left:40px; top:55px;}
#H3 { position:absolute; left:70px; top:55px;}
#H4 { position:absolute; left:100px; top:55px;}
#H5 { position:absolute; left:130px; top:55px;}
#H6 { position:absolute; left:160px; top:55px;}
#H7 { position:absolute; left:190px; top:55px;}
#H8 { position:absolute; left:220px; top:55px;}
#H9 { position:absolute; left:250px; top:55px;}
#H0 { position:absolute; left:280px; top:55px;}
#HJ { position:absolute; left:310px; top:55px;}
#HQ { position:absolute; left:340px; top:55px;}
#HK { position:absolute; left:370px; top:55px;}

#SA { position:absolute; left:10px; top:155px;}
#S2 { position:absolute; left:40px; top:155px;}
#S3 { position:absolute; left:70px; top:155px;}
#S4 { position:absolute; left:100px; top:155px;}
#S5 { position:absolute; left:130px; top:155px;}
#S6 { position:absolute; left:160px; top:155px;}
#S7 { position:absolute; left:190px; top:155px;}
#S8 { position:absolute; left:220px; top:155px;}
#S9 { position:absolute; left:250px; top:155px;}
#S0 { position:absolute; left:280px; top:155px;}
#SJ { position:absolute; left:310px; top:155px;}
#SQ { position:absolute; left:340px; top:155px;}
#SK { position:absolute; left:370px; top:155px;}

#DA { position:absolute; left:10px; top:255px;}
#D2 { position:absolute; left:40px; top:255px;}
#D3 { position:absolute; left:70px; top:255px;}
#D4 { position:absolute; left:100px; top:255px;}
#D5 { position:absolute; left:130px; top:255px;}
#D6 { position:absolute; left:160px; top:255px;}
#D7 { position:absolute; left:190px; top:255px;}
#D8 { position:absolute; left:220px; top:255px;}
#D9 { position:absolute; left:250px; top:255px;}
#D0 { position:absolute; left:280px; top:255px;}
#DJ { position:absolute; left:310px; top:255px;}
#DQ { position:absolute; left:340px; top:255px;}
#DK { position:absolute; left:370px; top:255px;}

#CA { position:absolute; left:10px; top:355px;}
#C2 { position:absolute; left:40px; top:355px;}
#C3 { position:absolute; left:70px; top:355px;}
#C4 { position:absolute; left:100px; top:355px;}
#C5 { position:absolute; left:130px; top:355px;}
#C6 { position:absolute; left:160px; top:355px;}
#C7 { position:absolute; left:190px; top:355px;}
#C8 { position:absolute; left:220px; top:355px;}
#C9 { position:absolute; left:250px; top:355px;}
#C0 { position:absolute; left:280px; top:355px;}
#CJ { position:absolute; left:310px; top:355px;}
#CQ { position:absolute; left:340px; top:355px;}
#CK { position:absolute; left:370px; top:355px;}


</style>

</head>
<body bgcolor=#696969 onload="shuffle_deck();"
 style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none; height:500px;" 
 unselectable="on" onselectstart="return false; "  >

<!--****			CARD FACES 			****-->
<table class='playingcard heart' id='HA'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox ace'>
	   <div class=flag>A<br>&#9829;</div>
&#9829;
           <div class=reverseflag>A<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='H2'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>2<br>&#9829;</div>
&#9829;<br>&nbsp;<br>&nbsp;<br>&#9829;
           <div class=reverseflag>2<br>&#9829;</div>
</td></tr>
</table> 

<table class='playingcard heart' id='H3'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>3<br>&#9829;</div>
&#9829;<br>&nbsp;<br>&#9829;<br>&nbsp;<br>&#9829;
           <div class=reverseflag>3<br>&#9829;</div>
</td></tr>
</table>
 
<table class='playingcard heart' id='H4'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>4<br>&#9829;</div>
&#9829;&nbsp;&nbsp;&#9829;<br>
&nbsp;<br>&nbsp;<br>
&#9829;&nbsp;&nbsp;&#9829;
           <div class=reverseflag>4<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='H5'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>5<br>&#9829;</div>
&#9829;&nbsp;&nbsp;&#9829;<br>&nbsp;<br>
&#9829;<br>&nbsp;<br>
&#9829;&nbsp;&nbsp;&#9829;
           <div class=reverseflag>5<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='H6'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>6<br>&#9829;</div>
&#9829;&nbsp;&nbsp;&#9829;<br>&nbsp;<br>
&#9829;&nbsp;&nbsp;&#9829;<br>&nbsp;<br>
&#9829;&nbsp;&nbsp;&#9829;
           <div class=reverseflag>6<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='H7'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>7<br>&#9829;</div>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;<br>
&nbsp;&nbsp;&#9829;&nbsp;&nbsp;<br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;<br><br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;
           <div class=reverseflag>7<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='H8'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>8<br>&#9829;</div>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;<br>
&nbsp;&nbsp;&#9829;&nbsp;&nbsp;<br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;<br>
&nbsp;&nbsp;&#9829;&nbsp;&nbsp;<br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;
           <div class=reverseflag>8<br>&#9829;</div>
</td></tr>
</table>


<table class='playingcard heart' id='H9'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>9<br>&#9829;</div>
&#9829;&nbsp;&nbsp;&nbsp;&#9829; 	<br><br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829; 	<br>
&nbsp;&nbsp;&#9829;&nbsp;&nbsp;	<br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;	<br><br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829; 	<br>
           <div class=reverseflag>9<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='H0'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>10<br>&nbsp;&#9829;</div>
&#9829;&nbsp;&nbsp;&nbsp;&#9829; 	<br>
&nbsp;&nbsp;&#9829;&nbsp;&nbsp;	<br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829; 	<br><br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829;	<br>
&nbsp;&nbsp;&#9829;&nbsp;&nbsp;	<br>
&#9829;&nbsp;&nbsp;&nbsp;&#9829; 	<br>
           <div class=reverseflag>10<br>&nbsp;&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='HJ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>J<br>&#9829;</div>
J&#9829;
           <div class=reverseflag>J<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='HQ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>Q<br>&#9829;</div>
Q&#9829;
           <div class=reverseflag>Q<br>&#9829;</div>
</td></tr>
</table>

<table class='playingcard heart' id='HK'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>K<br>&#9829;</div>
K&#9829;
           <div class=reverseflag>K<br>&#9829;</div>
</td></tr>
</table>


<table class='playingcard spade' id='SA'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox ace'>
	   <div class=flag>A<br>&spades;</div>
&spades;
           <div class=reverseflag>A<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='S2'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>2<br>&spades;</div>
&spades;<br>&nbsp;<br>&nbsp;<br>&spades;
           <div class=reverseflag>2<br>&spades;</div>
</td></tr>
</table> 

<table class='playingcard spade' id='S3'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>3<br>&spades;</div>
&spades;<br>&nbsp;<br>&spades;<br>&nbsp;<br>&spades;
           <div class=reverseflag>3<br>&spades;</div>
</td></tr>
</table>
 
<table class='playingcard spade' id='S4'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>4<br>&spades;</div>
&spades;&nbsp;&nbsp;&spades;<br>
&nbsp;<br>&nbsp;<br>
&spades;&nbsp;&nbsp;&spades;
           <div class=reverseflag>4<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='S5'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>5<br>&spades;</div>
&spades;&nbsp;&nbsp;&spades;<br>&nbsp;<br>
&spades;<br>&nbsp;<br>
&spades;&nbsp;&nbsp;&spades;
           <div class=reverseflag>5<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='S6'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>6<br>&spades;</div>
&spades;&nbsp;&nbsp;&spades;<br>&nbsp;<br>
&spades;&nbsp;&nbsp;&spades;<br>&nbsp;<br>
&spades;&nbsp;&nbsp;&spades;
           <div class=reverseflag>6<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='S7'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>7<br>&spades;</div>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br>
&nbsp;&nbsp;&spades;&nbsp;&nbsp;	<br>
&spades;&nbsp;&nbsp;&nbsp;&spades;	<br><br>
&spades;&nbsp;&nbsp;&nbsp;&spades;
           <div class=reverseflag>7<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='S8'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>8<br>&spades;</div>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br>
&nbsp;&nbsp;&spades;&nbsp;&nbsp;	<br>
&spades;&nbsp;&nbsp;&nbsp;&spades;	<br>
&nbsp;&nbsp;&spades;&nbsp;&nbsp;	<br>
&spades;&nbsp;&nbsp;&nbsp;&spades;
           <div class=reverseflag>8<br>&spades;</div>
</td></tr>
</table>


<table class='playingcard spade' id='S9'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>9<br>&spades;</div>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br><br>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br>
&nbsp;&nbsp;&spades;&nbsp;&nbsp;	<br>
&spades;&nbsp;&nbsp;&nbsp;&spades;	<br><br>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br>
           <div class=reverseflag>9<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='S0'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>10<br>&nbsp;&spades;</div>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br>
&nbsp;&nbsp;&spades;&nbsp;&nbsp;	<br>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br><br>
&spades;&nbsp;&nbsp;&nbsp;&spades;	<br>
&nbsp;&nbsp;&spades;&nbsp;&nbsp;	<br>
&spades;&nbsp;&nbsp;&nbsp;&spades; 	<br>
           <div class=reverseflag>10<br>&nbsp;&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='SJ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>J<br>&spades;</div>
J&spades;
           <div class=reverseflag>J<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='SQ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>Q<br>&spades;</div>
Q&spades;
           <div class=reverseflag>Q<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard spade' id='SK'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>K<br>&spades;</div>
K&spades;
           <div class=reverseflag>K<br>&spades;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='DA'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox ace'>
	   <div class=flag>A<br>&diams;</div>
&diams;
           <div class=reverseflag>A<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='D2'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>2<br>&diams;</div>
&diams;<br>&nbsp;<br>&nbsp;<br>&diams;
           <div class=reverseflag>2<br>&diams;</div>
</td></tr>
</table> 

<table class='playingcard diamond' id='D3'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>3<br>&diams;</div>
&diams;<br>&nbsp;<br>&diams;<br>&nbsp;<br>&diams;
           <div class=reverseflag>3<br>&diams;</div>
</td></tr>
</table>
 
<table class='playingcard diamond' id='D4'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>4<br>&diams;</div>
&diams;&nbsp;&nbsp;&diams;<br>
&nbsp;<br>&nbsp;<br>
&diams;&nbsp;&nbsp;&diams;
           <div class=reverseflag>4<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='D5'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>5<br>&diams;</div>
&diams;&nbsp;&nbsp;&diams;<br>&nbsp;<br>
&diams;<br>&nbsp;<br>
&diams;&nbsp;&nbsp;&diams;
           <div class=reverseflag>5<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='D6'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>6<br>&diams;</div>
&diams;&nbsp;&nbsp;&diams;<br>&nbsp;<br>
&diams;&nbsp;&nbsp;&diams;<br>&nbsp;<br>
&diams;&nbsp;&nbsp;&diams;
           <div class=reverseflag>6<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='D7'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>7<br>&diams;</div>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br>
&nbsp;&nbsp;&diams;&nbsp;&nbsp;	<br>
&diams;&nbsp;&nbsp;&nbsp;&diams;	<br><br>
&diams;&nbsp;&nbsp;&nbsp;&diams;
           <div class=reverseflag>7<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='D8'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>8<br>&diams;</div>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br>
&nbsp;&nbsp;&diams;&nbsp;&nbsp;	<br>
&diams;&nbsp;&nbsp;&nbsp;&diams;	<br>
&nbsp;&nbsp;&diams;&nbsp;&nbsp;	<br>
&diams;&nbsp;&nbsp;&nbsp;&diams;
           <div class=reverseflag>8<br>&diams;</div>
</td></tr>
</table>


<table class='playingcard diamond' id='D9'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>9<br>&diams;</div>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br><br>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br>
&nbsp;&nbsp;&diams;&nbsp;&nbsp;	<br>
&diams;&nbsp;&nbsp;&nbsp;&diams;	<br><br>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br>
           <div class=reverseflag>9<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='D0'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>10<br>&nbsp;&diams;</div>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br>
&nbsp;&nbsp;&diams;&nbsp;&nbsp;	<br>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br><br>
&diams;&nbsp;&nbsp;&nbsp;&diams;	<br>
&nbsp;&nbsp;&diams;&nbsp;&nbsp;	<br>
&diams;&nbsp;&nbsp;&nbsp;&diams; 	<br>
           <div class=reverseflag>10<br>&nbsp;&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='DJ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>J<br>&diams;</div>
J&diams;
           <div class=reverseflag>J<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='DQ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>Q<br>&diams;</div>
Q&diams;
           <div class=reverseflag>Q<br>&diams;</div>
</td></tr>
</table>

<table class='playingcard diamond' id='DK'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>K<br>&diams;</div>
K&diams;
           <div class=reverseflag>K<br>&diams;</div>
</td></tr>
</table>


<table class='playingcard club' id='CA'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox ace'>
	   <div class=flag>A<br>&clubs;</div>
&clubs;
           <div class=reverseflag>A<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='C2'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>2<br>&clubs;</div>
&clubs;<br>&nbsp;<br>&nbsp;<br>&clubs;
           <div class=reverseflag>2<br>&clubs;</div>
</td></tr>
</table> 

<table class='playingcard club' id='C3'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>3<br>&clubs;</div>
&clubs;<br>&nbsp;<br>&clubs;<br>&nbsp;<br>&clubs;
           <div class=reverseflag>3<br>&clubs;</div>
</td></tr>
</table>
 
<table class='playingcard club' id='C4'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>4<br>&clubs;</div>
&clubs;&nbsp;&nbsp;&clubs;<br>
&nbsp;<br>&nbsp;<br>
&clubs;&nbsp;&nbsp;&clubs;
           <div class=reverseflag>4<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='C5'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>5<br>&clubs;</div>
&clubs;&nbsp;&nbsp;&clubs;<br>&nbsp;<br>
&clubs;<br>&nbsp;<br>
&clubs;&nbsp;&nbsp;&clubs;
           <div class=reverseflag>5<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='C6'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>6<br>&clubs;</div>
&clubs;&nbsp;&nbsp;&clubs;<br>&nbsp;<br>
&clubs;&nbsp;&nbsp;&clubs;<br>&nbsp;<br>
&clubs;&nbsp;&nbsp;&clubs;
           <div class=reverseflag>6<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='C7'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>7<br>&clubs;</div>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br>
&nbsp;&nbsp;&clubs;&nbsp;&nbsp;	<br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;	<br><br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;
           <div class=reverseflag>7<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='C8'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>8<br>&clubs;</div>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;<br>
&nbsp;&nbsp;&clubs;&nbsp;&nbsp;<br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;<br>
&nbsp;&nbsp;&clubs;&nbsp;&nbsp;<br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;
	<div class=reverseflag>8<br>&clubs;</div>
</td></tr>
</table>


<table class='playingcard club' id='C9'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>9<br>&clubs;</div>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br><br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br>
&nbsp;&nbsp;&clubs;&nbsp;&nbsp;	<br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;	<br><br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br>
           <div class=reverseflag>9<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='C0'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class=suitbox>
	   <div class=flag>10<br>&nbsp;&clubs;</div>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br>
&nbsp;&nbsp;&clubs;&nbsp;&nbsp;	<br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br><br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs;	<br>
&nbsp;&nbsp;&clubs;&nbsp;&nbsp;	<br>
&clubs;&nbsp;&nbsp;&nbsp;&clubs; 	<br>
           <div class=reverseflag>10<br>&nbsp;&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='CJ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>J<br>&clubs;</div>
J&clubs;
           <div class=reverseflag>J<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='CQ'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>Q<br>&clubs;</div>
Q&clubs;
           <div class=reverseflag>Q<br>&clubs;</div>
</td></tr>
</table>

<table class='playingcard club' id='CK'onclick="card_click(this.id)" onmouseover="show_combo(this.id)" onmouseout="no_combo(this.id)"><tr>
<td class='suitbox face'>
	   <div class=flag>K<br>&clubs;</div>
K&clubs;
           <div class=reverseflag>K<br>&clubs;</div>
</td></tr>
</table>


<!--****			END OF CARD FACES		****-->

<BUTTON id="shuffle-button" onclick="shuffleClick()" ><img src="die.png" id="shuffle-icon"> Shuffle</BUTTON>
<div class="cardsindeckticker card-count-ticker"> Cards Remaining: <span id="cardsleftindeck">52</span></div>
<div class="cardsinspreadticker card-count-ticker"> Cards in Hand: <span id="cardsleftinspread">0</span></div>

<div class=scorebox>Score: <div style='display:inline-block;vertical-align:top;'>
<span id="playerscore">0</span><br><span id="multo"></span>
<span id="winning">Winner!!!</span><span id="losing"> </span>
<span id="displaytext"> </span>
</div></div>

<div class="gamblemode" id="gambleBox">
	<div id="gambleTitleBar" class="gamble-titlebar">Gambling Stats</div>

	<div class="gamble-item bet">
		<label for="gamblebet">Bet:</label>
		<input id="gamblebet" type="text" maxlength="8" size="4" value="20">
	</div>

	<div class="gamble-item cash">
		<span class="label">Cash:</span>
		<span id="gamblecash">100</span>
	</div>

	<div class="gamble-item stat-group">
		<div class="stat-sub">
			<span class="label">Played</span>
			<span id="gamblegames">0</span>
		</div>
		<div class="stat-sub">
			<span class="label">Won</span>
			<span id="gamblewins">0</span>
		</div>
		<div class="stat-sub">
			<span class="label">Split</span>
			<span id="gamblepushes">0</span>
		</div>
	</div>

	<div class="gamble-item avg">
		<span class="label">Avg. Payout:</span>
		<span id="avpay">0.00</span>
	</div>

	<div class="gamble-item payout payout-box golden-text" id="payoutBox" style="display: none;">
		+$<span id="payoutAmount">0</span>
	</div>
</div>






<div class='playablemoves' id='pamov'> </div>

<div class='playedmoves' id='pdmov'> </div>

<div class='optclicker' id='optclicker' onclick="toggleOptbox()">&#9881;</div>

<div class='optbox' id='optbox' style="display:none">
Options<span  style=" font-size:16px; position:absolute; right:5px;">
<input id='gamblecheck' type='checkbox' onclick="gamble_toggle()">Gamblin' Man</span><hr>
	<div id="gamblin-opts">
		Gamblin:<br>
		<span>
            <button id="resetStatsBtn" class="option-btn">Reset Stats</button>
		</span>
	</div>
Deck:<br>
	<label>Back Design</label>
	<select id="cardBackPicker">
		<option value="back-1.png">Back 1</option>
		<option value="back-2.png">Back 2</option>
		<option value="back-3.png">Back 3</option>
		<option value="back-4.png">Back 4</option>
		<option value="back-5.png">Back 5</option>
		<option value="back-6.png">Back 6</option>
		<option value="back-7.png">Back 7</option>
		<option value="back-8.png">Back 8</option>
	</select><br>
	<label>Suit Colours</label>
	<form id='deckcolor' action="">
  <input type="radio" name="deckcolor" value="1" onclick="set_deck_color(this.value);"> Red/Black<br>
  <input type="radio" name="deckcolor" value="2" onclick="set_deck_color(this.value);"> Red/Blue/Black/Green<br>
  <input type="radio" name="deckcolor" value="3" onclick="set_deck_color(this.value);"> Custom<br>
<span style="position:relative; left:30px; top:5px;">
<span style='display:inline-block; text-align:center;'>
		<input id='cusdekcolor1' type="color" value="ef15b9"
			   onchange="set_deck_color(3);ObjById('deckcolor')[2].checked=true;">
<br>
<span class='heart' style="font-size:26px">&hearts;</span>
</span>

<span style='display:inline-block; text-align:center;'>
	<input id='cusdekcolor2' type="color" value="731efc"
		   onchange="set_deck_color(3);ObjById('deckcolor')[2].checked=true;">
<br>
<span class='diamond' style="font-size:26px">&diams;</span>
</span>

<span style='display:inline-block; text-align:center;'>
	<input id='cusdekcolor3' type="color" value="74ef15"
		   onchange="set_deck_color(3);ObjById('deckcolor')[2].checked=true;">
<br>
<span class='spade' style="font-size:26px">&spades;</span>
</span>

<span style='display:inline-block; text-align:center;'>
	<input id='cusdekcolor4' type="color" value="ff6a00"
		   onchange="set_deck_color(3);ObjById('deckcolor')[2].checked=true;">
<br>
<span class='club' style="font-size:26px">&clubs;</span>
</span>
</span>

<div class="option-row">
	<label for="whiteBalanceSlider">White Balance</label>
	<input type="range" id="whiteBalanceSlider" min="0" max="0.48" step="0.02" value="0.2">
</div>


	</form>

Table:<br>
	<label>Colour</label>
<form id='tablecolor' action="">
  <input type="radio" name="tablecolor" value="1" onclick="set_table_color('6ABD38');" checked> Default<br>
  <input type="radio" name="tablecolor" value="3" onclick="set_table_color(ObjById('custabcolor').value);"> 
	<input id='custabcolor' type="color" value="#a4cce3"
		   onchange="set_table_color(this.value); ObjById('tablecolor')[1].checked = true; localStorage.setItem('custabcolor', this.value); localStorage.setItem('tablecolor', '3');">

</form>

<span id="opt-close-btn" style="cursor:pointer; font-size:20px; position:absolute; right:5px; bottom:7px"
onclick="toggleOptbox()"><span class="inline-text-icon">&#x2297;</span> Close</span>
</div>

<script>
	document.addEventListener("DOMContentLoaded", function () {

	 // Gamblin' checkbox
  const gambleCheck = document.getElementById("gamblecheck");
  const gambleSaved = localStorage.getItem("GAMBLIN");
  if (gambleSaved !== null) {
    gambleCheck.checked = gambleSaved === "true";
    document.getElementById("gambleBox").style.display = gambleCheck.checked ? "" : "none";
    document.getElementById("gamblin-opts").style.display = gambleCheck.checked ? "" : "none";
    window.GAMBLIN = gambleSaved;
  }

  // Card back picker
  const cardBackPicker = document.getElementById("cardBackPicker");
  const savedBack = localStorage.getItem("cardBack");
  if (savedBack) {
    cardBackPicker.value = savedBack;
    window.cardBack = savedBack;
  }

  // Suit color radio
  const savedDeckColor = localStorage.getItem("deckcolor");
  if (savedDeckColor) {
    const radio = document.querySelector(`#deckcolor input[value="${savedDeckColor}"]`);
    if (radio) radio.checked = true;
    set_deck_color(savedDeckColor);
  }

  //  Custom suit colors
  for (let i = 1; i <= 4; i++) {
    const key = `cusdekcolor${i}`;
    const val = localStorage.getItem(key);
    if (val) document.getElementById(key).value = val;
  }

  // Card texture opacity
  const whiteBalanceSlider = document.getElementById("whiteBalanceSlider");
  const savedOpacity = localStorage.getItem('cardWhiteBalance');
  if (savedOpacity !== null) {
    whiteBalanceSlider.value = savedOpacity;
	updateCardWhiteBalance(savedOpacity);
  }

  // Table color
  const savedTableColor = localStorage.getItem("tablecolor");
  if (savedTableColor) {
    const radio = document.querySelector(`#tablecolor input[value="${savedTableColor}"]`);
    if (radio) radio.checked = true;

    if (savedTableColor === "3") {
      const customColor = localStorage.getItem("custabcolor");
      if (customColor) {
        document.getElementById("custabcolor").value = customColor;
        set_table_color(customColor);
      }
    } else {
      set_table_color("6ABD38"); // default
    }
  }

       // Save GAMBLIN
  document.getElementById("gamblecheck").addEventListener("change", function () {
    const gamble = this.checked;
    document.getElementById("gambleBox").style.display = gamble ? "" : "none";
    localStorage.setItem("GAMBLIN", gamble);
    window.GAMBLIN = gamble.toString();
  });

  // Save card back
  document.getElementById("cardBackPicker").addEventListener("change", function () {
    localStorage.setItem("cardBack", this.value);
    window.cardBack = this.value;
    set_new_deck_back();
  });

  // Save suit color selection
  document.querySelectorAll("#deckcolor input[name='deckcolor']").forEach(input => {
    input.addEventListener("change", function () {
      localStorage.setItem("deckcolor", this.value);
    });
  });

  // Save custom suit colors
  for (let i = 1; i <= 4; i++) {
    const id = `cusdekcolor${i}`;
    document.getElementById(id).addEventListener("change", function () {
      localStorage.setItem(id, this.value);
    });
  }

  // Save table color selection
  document.querySelectorAll("#tablecolor input[name='tablecolor']").forEach(input => {
    input.addEventListener("change", function () {
      localStorage.setItem("tablecolor", this.value);
    });
  });

    });

  // Reset gamble stats
  document.getElementById("resetStatsBtn").addEventListener("click", () => {
    localStorage.setItem("gamblecash", 100);
    const keys = ['gamblegames', 'gamblewins', 'gamblepushes', 'avpay'];
    keys.forEach(id => {
      localStorage.setItem(id, 0);
    });


  loadGambleStats();
});

 whiteBalanceSlider.addEventListener('input', e => {
      updateCardWhiteBalance(e.target.value);
});

function updateCardWhiteBalance(opacity) {
   document.documentElement.style.setProperty('--card-texture-opacity', opacity);
   adjustWhiteText();
   localStorage.setItem('cardWhiteBalance', opacity);
}

const dragTarget = document.getElementById("gambleBox");
const dragHandle = document.getElementById("gambleTitleBar");

let offsetX = 0, offsetY = 0, isDragging = false;

// Restore previous position
const savedX = localStorage.getItem("gambleX");
const savedY = localStorage.getItem("gambleY");
const savedW = localStorage.getItem("gambleW");
  const gamble_group1 = [
    document.querySelector('.bet'),
    document.querySelector('.cash'),
    document.querySelector('.payout')  ];
  const gamble_group2 = [
    document.querySelector('.stat-group'),
    document.querySelector('.avg')  ];
if (savedX !== null && savedY !== null) {
  dragTarget.style.left = savedX + "px";
  dragTarget.style.top = savedY + "px";
  if (savedW === "1"){   switch_gamble_horizontal() }
  else{ switch_gamble_vertical() }
}

function switch_gamble_vertical(){
    dragTarget.style.width = '190px';
    unwrapElements('gamble-group-left');
    unwrapElements('gamble-group-right');
    ObjById('gambleBox').classList.remove('horizontal');
	ObjById('gambleBox').classList.add('vertical');
}
function switch_gamble_horizontal(){
    dragTarget.style.width = '550px';
    wrapElements(gamble_group1, 'gamble-group-left');
	wrapElements(gamble_group2, 'gamble-group-right');
    ObjById('gambleBox').classList.remove('vertical');
	ObjById('gambleBox').classList.add('horizontal');
}

dragHandle.addEventListener("dblclick", (e) => {
  const currentWidth = getComputedStyle(dragTarget).width;
  if (parseFloat(currentWidth) >= 550) {
    switch_gamble_vertical();
	localStorage.setItem('gambleW', 0);
  } else {
    switch_gamble_horizontal();
	localStorage.setItem('gambleW', 1);
  }
});

dragHandle.addEventListener("mousedown", (e) => {
  isDragging = true;
  offsetX = e.clientX - dragTarget.offsetLeft;
  offsetY = e.clientY - dragTarget.offsetTop;
});

document.addEventListener("mousemove", (e) => {
  if (!isDragging) return;

  const maxX = window.innerWidth - dragTarget.offsetWidth;
  const maxY = window.innerHeight - dragTarget.offsetHeight;

  let x = e.clientX - offsetX;
  let y = e.clientY - offsetY;

  x = Math.max(0, Math.min(x, maxX));
  y = Math.max(0, Math.min(y, maxY));

  dragTarget.style.left = x + "px";
  dragTarget.style.top = y + "px";

});

document.addEventListener("mouseup", () => {
  if (isDragging) {
    isDragging = false;
    localStorage.setItem("gambleX", parseInt(dragTarget.style.left));
    localStorage.setItem("gambleY", parseInt(dragTarget.style.top));
  }
});



  loadGambleStats();
</script>

</body>
</html>
